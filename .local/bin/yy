#!/bin/zsh

# Copy global packages execute files to bin
# by default, all execute files are stored in global/node_modules/.bin
# this to avoid sourcing execute files of global package dependencies
YARN_GLOBAL="$XDG_DATA_HOME"/yarn/global

[[ ! -d "$YARN_GLOBAL"/bin ]] && mkdir -p "$YARN_GLOBAL"/bin

for i in $(yarn global list --no-progress | grep '-' | sed 's/-//'); do
    cp -sf $XDG_DATA_HOME/yarn/global/node_modules/.bin/$i $XDG_DATA_HOME/yarn/global/bin/$i
    echo "$i"
done;
