[colors]
background = #21252b
foreground = #dfdfdf
black = #555
black-alt = #333
green = #55aa55
green-alt = #89ca78
red = #FC3C3C
orange = #f5a70a

[bar/tdloi]
bottom = true
monitor = ${env:MONITOR:LVDS1}
width = 100%
height = 16
fixed-center = false

background = ${colors.background}
foreground = ${colors.foreground}

line-size = 2
line-color = #f00

padding-left = 1
padding-right = 0
module-margin-left = 1
module-margin-right = 1

font-0 = Inconsolata:size=10;2
font-1 = RobotoMono Nerd Font:pixelsize=9;2
font-2 = "Noto Sans CJK JP:size=9;3"

modules-left = i3
modules-center = cmus
modules-right = cmus-previous cmus-next audio xbacklight memory cpu wlan battery date

tray-position = right
tray-padding = 5
tray-maxsize = 12

cursor-click = pointer
cursor-scroll = ns-resize

; https://github.com/jaagr/polybar/wiki/Inter-process-messaging
enable-ipc = true

[module/i3]
type = internal/i3
pin-workspaces = true
fuzzy-match = true
ws-icon-0 = 1;
ws-icon-1 = 2;
ws-icon-2 = 3;
ws-icon-3 = 4;
ws-icon-4 = 5;
ws-icon-default = 

label-focused-foreground = ${colors.black-alt}
label-focused-background = ${colors.green}
label-separator = |
label-separator-padding = 1
label-focused-padding = 1


[module/vpn]
type = custom/script
exec =  if [ "$(curl -s https://am.i.mullvad.net/json | jq '.country')" != "\"My Country\"" ]; then curl -s https://am.i.mullvad.net/json | jq '.country'; else echo ''; fi;
interval = 5


[module/aur]
type = custom/script
exec = ~/.config/polybar/script/aur.sh
exec-if = ! wget -q --spider https://ducduckgo.com
format-prefix = " "
interval = 18000
click-left = ~/.config/polybar/script/aur-push.sh


[module/cmus-previous]
type = custom/script
exec = echo "<"
exec-if = cmus-remote -Q
click-left = cmus-remote -r
interval = 1

[module/cmus-next]
type = custom/script
exec = echo ">"
exec-if = cmus-remote -Q
click-left = cmus-remote -n
interval = 1

[module/cmus]
type = custom/script
exec = ~/.config/polybar/script/cmus.py
exec-if = cmus-remote -Q
label-font = 3
click-left = if cmus-remote -Q | grep -q 'playing'; then cmus-remote -u; else cmus-remote -p; fi
interval = 1


[module/xbacklight]
type = internal/xbacklight
format-prefix = " "
enable-scroll = false
# format-underline = ${colors.foreground}


[module/audio]
type = internal/pulseaudio
format-volume-prefix = " "
label-volume-foreground = ${colors.foreground}
# format-volume-underline = #0965e7
format-muted-prefix = " "
format-muted-foreground = ${colors.black}


[module/memory]
type = internal/memory
format-prefix = " "
# format-underline = #8f70d4


[module/cpu]
type = internal/cpu
label = %percentage:2%%
format-prefix = " "
# format-underline = #c63134


[module/wlan]
type = internal/network
interface = wlp3s0
interval = 3.0

format-connected = <ramp-signal>
ramp-signal-0 = ""

format-disconnected = Wifi disconnected
format-disconnected-foreground = ${colors.black}
# format-connected-underline = ${colors.orange}


[module/battery]
type = internal/battery
battery = BAT0
adapter = AC0
full-at = 97

format-charging = <animation-charging> <label-charging>
format-discharging = <ramp-capacity> <label-discharging>

format-full-prefix = " "
format-full-prefix-foreground = #77C990

ramp-capacity-0 = 
ramp-capacity-1 = 
ramp-capacity-2 = 
ramp-capacity-3 = 
ramp-capacity-0-foreground = ${colors.red}
ramp-capacity-1-foreground = ${colors.orange}
ramp-capacity-foreground = ${colors.green-alt}

animation-charging-0 = 
animation-charging-foreground = ${colors.green-alt}


[module/date]
type = internal/date
interval = 1

label = %date% %time%
label-foreground = ${colors.black-alt}
label-background = ${colors.green}
label-padding-right = 1

;date =
time = %H:%M
date-alt = " %a %d-%m"
time-alt = %H:%M:%S


[settings]
screenchange-reload = true

[global/wm]
margin-top = 0
